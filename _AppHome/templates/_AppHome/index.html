{% extends "base.html" %}
{% load static %} 

{% block title %}Home - GISME{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1 class="text-center">Gesti√≥n de Equipos</h1>

    <!-- Formulario de Registro -->
    <div class="card p-4 mt-4">
        <form method="post" class="row g-3" action="{% url 'gestion_equipos' %}">
            {% csrf_token %}

            <div class="col-md-4">
                <label for="serial" class="form-label">Serial</label>
                <input type="text" class="form-control" name="serial" id="serial" required>
            </div>

            <div class="col-md-4">
                <label for="sap" class="form-label">SAP</label>
                <input type="text" class="form-control" name="sap" id="sap" required>
            </div>

            <div class="col-md-4">
                <label for="marca" class="form-label">Marca</label>
                <input type="text" class="form-control" name="marca" id="marca" required>
            </div>

            <div class="col-12 text-center mt-3">
                <button type="submit" class="btn btn-primary">Registrar Equipo</button>
            </div>
        </form>
    </div>

    <!-- Tabla de Equipos Registrados -->
    <div class="mt-5">
        <h2 class="text-center">Lista de Equipos</h2>
        <table class="table table-striped table-bordered text-center">
            <thead class="table-dark">
                <tr>
                    <th>Serial</th>
                    <th>SAP</th>
                    <th>Marca</th>
                    <th>Fecha Registro</th>
                </tr>
            </thead>
            <tbody>
                {% for equipo in equipos %}
                <tr>
                    <td>{{ equipo.serial }}</td>
                    <td>{{ equipo.sap }}</td>
                    <td>{{ equipo.marca }}</td>
                    <td>{{ equipo.created_at|date:"d-m-Y H:i" }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4">No hay equipos registrados</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static '_AppHome/styles.css' %}">
{% endblock %}

{% block extra_js %}
    <script src="{% static '_AppHome/script.js' %}"></script>
{% endblock %}